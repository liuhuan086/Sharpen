# 信息收集

信息获取方式：

* 利用CMS识别技术
* 源码获取：通过github等手段获取源码
* 架构信息获取：操作系统，中间件，脚本语言，数据库，服务器，web容器等等
* 站点搭建分析：利用phpadmin、宝塔等之类的方式进行搭建



## 信息收集渠道

### 目录型站点

网站加个目录之后，又是另外一套程序，比如：`www.test.com`和`www.test.com/bbs`，假如test.com是主站，bbs根据经验，可以判断出是论坛，如果再出现一个`www.test.com/shopping`，可能又是另外的程序（电商平台）

### 端口类站点

80、443端口是主页默认端口，8080是管理员页面或其他端口，5050是普通用户登陆端口等。

### 子域名站点

同一个二级域名的不同子域名可能不是同一个IP。

### 类似域名站点

```
http://jmlsd.com
http://jmlsd.cn
```

### 旁注

多个网站搭建在一个服务器上

```
192.168.1.10
	www.a.com
	www.b.com
	...

192.168.1.11
	www.c.com
	www.d.com
```

假如在渗透测试时，发现无法对目标站点`www.a.com`进行渗透测试，但是可以对`www.b.com`渗透测试，这样也有可能实现对`www.b.com`的渗透。

进一步的，可以通过渗透到IP为`192.168.1.10`的服务器后，尝试进行内网渗透（水平越权），尝试渗透并获取`192.168.1.11`上的相关信息。

### C段

同一内网段，不同服务器，不同站点。（不同网站搭建在不同服务器上。）

> 一个IDC机房，有多个服务器，部署了不同公司的服务，或部署了相同公司不同的服务。



## 软件搭建特征站点

下面这种就是通过类似于phpadmin平台进行搭建的

```
https://www.fadoutu.com/index/login/login/token/146f3d349991bd7cea1cf6d01218ff6c.html?lang=zh-tw
Server: Apache/2.4.39 (Win64) OpenSSL/1.1.1b mod_fcgid/2.3.9a mod_log_rotate/1.02
```

下面这种很有可能就是自己搭建或者修改过相关配置

```
https://real-gold.in/index/login/login/token/3f8aaf807899b23097b5af1e70e57e9d.html
server: Apache
```

如果采用某些平台搭建的，比如phpadmin，管理员登陆地址没有修改的话，就可以直接进行访问，并尝试使用默认账号密码登陆，或者通过字典爆破的方式进行登陆。



## 思维导图

![](https://borinboy.oss-cn-shanghai.aliyuncs.com/huan%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86.png)

## 总结

* 域名（不要加www）
    * 子域名

* IP地址
* 端口
* 公司名关键字
* 黑暗引擎搜索
* nmap等工具扫描
* 备案查询
* 文件后缀查询（.php等）
* 根据获取的信息，查询对应信息是否存在漏洞，比如获取mysql版本，查看该版本对应的已知漏洞
* 查询到新的结果再重复上面过程